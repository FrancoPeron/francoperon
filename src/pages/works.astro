---
import { getCollection } from "astro:content";

//-----------------------------------------------------------------

// Component Imports

//Layout
import Layout from "@layouts/Layout.astro";

// Molecules
import PreviewWork from "@components/_molecules/PreviewWork.astro";

// Organisms
import IndexSection from "@components/_organisms/IndexSection.astro";

const works = (await getCollection("work"))
  .sort((a, b) => b.data.publishDate.valueOf() - a.data.publishDate.valueOf())
  .slice(0, 4);
---

<Layout title="Trabajos">

  <IndexSection
      title="Trabajos"
      tagline="Algunos de mis trabajos realizados para clientes"
    >
      <div class="flex flex-col gap-12" slot="preview-slot">
        {works.map((work: any) => <PreviewWork post={work} />)}
      </div>
    </IndexSection>

</Layout>
