---
import type { CollectionEntry } from "astro:content";

import Icon from "@components/_atoms/icons/Icon.astro";

// import { string } from 'astro/zod';

interface Props {
  post: CollectionEntry<"project">;
}

const { data, slug } = Astro.props.post;
---
<li class="flex flex-col md:flex-row lg:flex-col p-7 rounded-3xl gap-10 w-full">
  <a
    class="work__imgBox w-full bg-white shadow-[-3px_3px_0_0_#fff] hover:shadow-[-6px_6px_0_0_#fff] transition duration-500 rounded-xl"
    href={`/project/${slug}`}
  >
    <img
      class="w-full h-full bg-white border-[2px] border-white rounded-xl"
      src={data.img}
      alt={data.img_alt || ""}
      loading="lazy"
      decoding="async"
    />
  </a>

  <div class="flex flex-col items-start w-full gap-4">
    <div class="flex flex-row justify-center items-start gap-2.5 px-3 pt-1 pb-1.5 border-[2px] border-white rounded-full">
      {data.tags.map((t: string) => <p class="text-base font-medium text-white">• {t}</p>)}
    </div>
    <p class="text-xl font-regular text-white">{data.description}</p>
    <div class="flex flex-col gap-2.5">
      <p class="text-base font-regular text-white">Tecnologías</p>
      <div class="row gap-6">
        {
          data.tec.map((t: string) => (
            <div class="stack center gap-2">
              <Icon icon={t as any} size="38px" />
              <p class="text-xs font-semibold text-white">{t}</p>
            </div>
          ))
        }
      </div>
    </div>
    <span class="line-h"></span>
    <div class="row gap-4">
      {
        data.links.map((link: any) => {
          return Object.entries(link).map(([key, value]) => {
            return (
              <a class="btn round" href={value as any} target="_blank">
                {key === "web" ? <p class="btn-text">Ver sitio web</p> : ""}
                <Icon icon={key as any} size="24px" color="var(--gray-0)" />
              </a>
            );
          });
        })
      }
    </div>
  </div>
</li>

<style>
  li:nth-child(1) {
    background: rgb(149, 29, 36);
    background: linear-gradient(
      125deg,
      rgba(29, 85, 149, 0.65) 0%,
      rgba(31, 29, 149, 0.45) 30%,
      rgba(42, 28, 167, 0.4) 70%,
      rgba(28, 96, 221, 0.47) 100%
    );
  }
  li:nth-child(2) {
    background: rgb(76, 29, 149);
    background: linear-gradient(
      125deg,
      rgba(76, 29, 149, 0.6488970588235294) 0%,
      rgba(76, 29, 149, 0.4724264705882353) 30%,
      rgba(103, 28, 199, 0.3603816526610645) 70%,
      rgba(136, 28, 221, 0.46682422969187676) 100%
    );
  }
  li:nth-child(3) {
    background: rgb(29, 63, 149);
    background: linear-gradient(
      125deg,
      rgba(29, 63, 149, 0.654499299719888) 0%,
      rgba(29, 63, 149, 0.46682422969187676) 30%,
      rgba(28, 92, 167, 0.4108018207282913) 70%,
      rgba(28, 128, 221, 0.46682422969187676) 100%
    );
    li:nth-child(4) {
    background: rgb(29, 63, 149);
    background: linear-gradient(
      125deg,
      rgba(29, 63, 149, 0.654499299719888) 0%,
      rgba(29, 63, 149, 0.46682422969187676) 30%,
      rgba(28, 92, 167, 0.4108018207282913) 70%,
      rgba(28, 128, 221, 0.46682422969187676) 100%
    );
    }
  }

</style>
